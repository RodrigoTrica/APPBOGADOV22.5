/* ═══════════════════════════════════════════════════════════════════
   APPBOGADO — improvements.css
   Mejoras UI/UX sobre el design system existente (v6 Lovable)
   Agregar con: <link rel="stylesheet" href="css/improvements.css">
   después de styles.css en el <head>
   ═══════════════════════════════════════════════════════════════════ */


/* ──────────────────────────────────────────────────────────────────
   1. CLASE .hidden — reemplaza style="display:none" inline
   Usar en JS: el.classList.add('hidden') / el.classList.remove('hidden')
   ────────────────────────────────────────────────────────────────── */
.hidden {
    display: none !important;
}


/* ──────────────────────────────────────────────────────────────────
   2. SIDEBAR — Mejoras de jerarquía y feedback visual
   ────────────────────────────────────────────────────────────────── */

/* Barra de acento lateral en el ítem activo del nivel superior */
nav > button.act {
    background: rgba(6, 182, 212, 0.10) !important;
    color: #06b6d4 !important;
    font-weight: 600 !important;
    border-left: 3px solid #06b6d4;
    padding-left: 9px !important; /* compensa el borde */
}

nav > button.act i {
    opacity: 1 !important;
    color: #06b6d4;
}

/* Ítem activo dentro de grupos */
.nav-group-items button.act {
    background: rgba(6, 182, 212, 0.10) !important;
    color: #06b6d4 !important;
    font-weight: 600 !important;
    border-left: 2px solid #06b6d4;
    padding-left: 32px !important;
}

/* Grupo abierto: header con fondo sutil */
.nav-group-header.open {
    color: #e2e8f0;
    background: rgba(255, 255, 255, 0.04);
}

/* Icono del grupo activo más brillante */
.nav-group-header.open .grp-icon {
    opacity: 1 !important;
    color: #06b6d4;
}

/* Transición más fluida del chevron */
.nav-group-chevron {
    transition: transform 0.22s cubic-bezier(0.4, 0, 0.2, 1),
                opacity 0.22s ease !important;
}

/* Separador de secciones del sidebar más visible */
.nav-divider {
    height: 1px;
    background: rgba(255, 255, 255, 0.08) !important;
    margin: 10px 14px !important;
}

/* Hover en items de grupo más pronunciado */
.nav-group-items button:hover {
    background: rgba(255, 255, 255, 0.07) !important;
    color: #cbd5e1 !important;
}

/* Botones del fondo del sidebar (backup, carpeta, etc.) */
.nav-bottom-btn {
    transition: background 0.15s, color 0.15s, border-color 0.15s !important;
}

.nav-bottom-btn:hover {
    background: rgba(255, 255, 255, 0.06) !important;
    color: #e2e8f0 !important;
}


/* ──────────────────────────────────────────────────────────────────
   3. DASHBOARD — KPIs más grandes y con más presencia visual
   ────────────────────────────────────────────────────────────────── */

/* KPI row: mínimo más amplio para evitar amontonamiento */
.db-kpi-row {
    grid-template-columns: repeat(auto-fit, minmax(170px, 1fr)) !important;
    gap: 16px !important;
    margin-bottom: 28px !important;
}

/* Tarjeta KPI: más alta, con borde izquierdo de color */
.db-kpi {
    padding: 22px 20px !important;
    border-radius: 14px !important;
    border-left-width: 4px !important;
    border-left-style: solid !important;
    transition: transform 0.22s cubic-bezier(0.22, 1, 0.36, 1),
                box-shadow 0.22s ease !important;
}

.db-kpi:hover {
    transform: translateY(-3px) !important;
    box-shadow: 0 8px 24px -4px rgba(0, 0, 0, 0.10) !important;
}

/* Número KPI más grande */
.db-kpi-val {
    font-size: 30px !important;
    font-weight: 800 !important;
    letter-spacing: -1px !important;
    line-height: 1 !important;
}

/* Label más legible */
.db-kpi-label {
    font-size: 11.5px !important;
    font-weight: 600 !important;
    text-transform: uppercase !important;
    letter-spacing: 0.04em !important;
    margin-top: 6px !important;
    color: var(--text-3) !important;
}

/* Ícono KPI ligeramente más grande */
.db-kpi-icon {
    width: 50px !important;
    height: 50px !important;
    font-size: 1.3rem !important;
    border-radius: 13px !important;
}

/* Bordes de color por variante */
.db-kpi-blue  { border-left-color: var(--cyan) !important; }
.db-kpi-red   { border-left-color: var(--danger) !important; }
.db-kpi-green { border-left-color: var(--success) !important; }
.db-kpi-orange { border-left-color: #f59e0b !important; }
.db-kpi-slate  { border-left-color: var(--border-2) !important; }

/* Header del dashboard: título más contundente */
.db-title {
    font-size: 24px !important;
    font-weight: 800 !important;
    letter-spacing: -0.6px !important;
}

.db-subtitle {
    font-size: 13.5px !important;
    color: var(--text-2) !important;
    margin-top: 3px !important;
}

/* Cards de charts: sombra y radio consistente */
.db-chart-card {
    border-radius: 14px !important;
    box-shadow: var(--sh-card) !important;
    transition: box-shadow 0.2s ease !important;
}

.db-chart-card:hover {
    box-shadow: var(--sh-2) !important;
}

/* Fila de gráficas: más espacio */
.db-charts-row {
    gap: 16px !important;
    margin-bottom: 20px !important;
}

/* Bottom row: misma altura entre semáforo y alertas */
.db-bottom-row {
    display: grid !important;
    grid-template-columns: 1fr 2fr !important;
    gap: 16px !important;
    margin-bottom: 24px !important;
}

.db-semaforo-card,
.db-alertas-card {
    border-radius: 14px !important;
    box-shadow: var(--sh-card) !important;
}


/* ──────────────────────────────────────────────────────────────────
   4. MICRO-ANIMACIONES — Transiciones más suaves en toda la app
   ────────────────────────────────────────────────────────────────── */

/* Fade + slide al cambiar de sección */
.tabs.active {
    animation: ab-fadeIn 0.28s cubic-bezier(0.22, 1, 0.36, 1) both;
}

@keyframes ab-fadeIn {
    from {
        opacity: 0;
        transform: translateY(10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Transición suave en todas las tarjetas .card */
.card {
    transition: box-shadow 0.2s ease, transform 0.2s ease !important;
}

.card:hover {
    box-shadow: var(--sh-2) !important;
}

/* Botones globales: transición consistente */
button {
    transition: background 0.15s ease, color 0.15s ease,
                border-color 0.15s ease, box-shadow 0.15s ease,
                transform 0.12s ease !important;
}

button:active:not(:disabled) {
    transform: scale(0.97) !important;
}

/* Inputs: focus más suave */
input:not([type="range"]),
select,
textarea {
    transition: border-color 0.18s ease, box-shadow 0.18s ease !important;
}

input:not([type="range"]):focus,
select:focus,
textarea:focus {
    outline: none !important;
    border-color: var(--cyan) !important;
    box-shadow: 0 0 0 3px rgba(6, 182, 212, 0.12) !important;
}

/* Modales: entrada con fade + scale */
.modal-content {
    animation: ab-modalIn 0.25s cubic-bezier(0.22, 1, 0.36, 1) both;
}

@keyframes ab-modalIn {
    from {
        opacity: 0;
        transform: scale(0.96) translateY(8px);
    }
    to {
        opacity: 1;
        transform: scale(1) translateY(0);
    }
}

/* Toast notifications: entrada más fluida */
.toast {
    animation: ab-toastIn 0.3s cubic-bezier(0.22, 1, 0.36, 1) both !important;
}

@keyframes ab-toastIn {
    from {
        opacity: 0;
        transform: translateX(20px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

/* Causa cards y prospecto cards: hover con elevación */
.causa-card,
.prospecto-card {
    transition: transform 0.2s cubic-bezier(0.22, 1, 0.36, 1),
                box-shadow 0.2s ease,
                border-color 0.2s ease !important;
}

.causa-card:hover,
.prospecto-card:hover {
    transform: translateY(-2px) !important;
    box-shadow: var(--sh-3) !important;
}


/* ──────────────────────────────────────────────────────────────────
   5. DARK MODE — correcciones para las mejoras anteriores
   ────────────────────────────────────────────────────────────────── */

[data-theme="dark"] .db-kpi {
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.4) !important;
}

[data-theme="dark"] .db-kpi:hover {
    box-shadow: 0 8px 24px -4px rgba(0, 0, 0, 0.4) !important;
}

[data-theme="dark"] .db-chart-card {
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3) !important;
}

[data-theme="dark"] .db-chart-card:hover {
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.4) !important;
}

[data-theme="dark"] input:not([type="range"]):focus,
[data-theme="dark"] select:focus,
[data-theme="dark"] textarea:focus {
    box-shadow: 0 0 0 3px rgba(6, 182, 212, 0.18) !important;
}
